{
	"apps": {
		"http": {
			"http_port": 8080,
			"https_port": 8443,
			"servers": {
				"srv0": {
					"automatic_https": {
						"disable": true
					},
					"experimental_http3": true,
					"listen": [":8443"],
					"routes": [
						{
							"handle": [
								{
									"handler": "subroute",
									"routes": [
										{
											"handle": [
												{
													"encodings": {
														"gzip": {},
														"zstd": {}
													},
													"handler": "encode"
												},
												{
													"handler": "reverse_proxy",
													"health_checks": {
														"active": {
															"expect_status": 2,
															"path": "/health"
														}
													},
													"transport": {
														"protocol": "http",
														"read_buffer_size": 4096
													},
													"upstreams": [
														{
															"dial": "api:3000"
														}
													]
												}
											],
											"match": [
												{
													"path": ["/"]
												}
											]
										}
									]
								}
							],
							"match": [
								{
									"host": ["discoin.zws.im"]
								}
							]
						}
					]
				}
			}
		}
	}
}
